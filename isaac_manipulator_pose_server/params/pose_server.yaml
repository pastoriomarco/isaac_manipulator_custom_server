pose_server:
  # Default class filter used when ScanBinObjects.object_key is empty.
  # Keep this empty when you want to always select the object class at request time
  # with ScanBinObjects.object_key.
  target_class_ids: []
  # Example fixed default filter (without object_key):
  # target_class_ids: ['22']

  # Shared mesh used for all selected objects.
  # Must exist on disk and be readable by FoundationPose/ObjectInfo server.
  shared_mesh_file_path: ''

  # Optional catalog for runtime object selection via ScanBinObjects.object_key.
  # Each object key maps to exactly one class id and one mesh.
  available_objects:
    soup_can:
      class_id: '3'
      mesh_file_path: '/workspaces/isaac_ros-dev/isaac_ros_assets/isaac_ros_foundationpose/soup_can/soup_can.obj'
    mac_and_cheese:
      class_id: '22'
      mesh_file_path: '/workspaces/isaac_ros-dev/isaac_ros_assets/isaac_ros_foundationpose/Mac_and_cheese_0_1/Mac_and_cheese_0_1.obj'
    mustard:
      class_id: '4'
      mesh_file_path: '/workspaces/isaac_ros-dev/isaac_ros_assets/isaac_ros_foundationpose/Mustard/textured_simple.obj'
    # NOTE: `dock` is from the non-grasp (AMR) SyntheticaDETR model family.
    # If you use a different RT-DETR model, update this class id to your model output.
    dock:
      class_id: '0'
      mesh_file_path: '/workspaces/isaac_ros-dev/isaac_ros_assets/isaac_ros_foundationpose/dock/dock.obj'
  # Add all selectable object profiles here for runtime object_key selection:
  # available_objects:
  #   soup_can:
  #     class_id: '22'
  #     mesh_file_path: '/absolute/path/to/soup_can.obj'
  #   class_4_object:
  #     class_id: '4'
  #     mesh_file_path: '/absolute/path/to/class_4_object.obj'

  # Frame names assigned per object: <object_frame_prefix>_<object_id>
  object_frame_prefix: 'bin_object'

  # 0 means all objects.
  max_objects: 0

  # Action and service endpoints from isaac_manipulator_servers/ObjectInfoServer.
  # Legacy path (object_info_server-based):
  get_objects_action_name: '/get_objects'
  get_object_pose_action_name: '/get_object_pose'
  add_mesh_service_name: '/add_mesh_to_object'
  assign_name_service_name: '/assign_name_to_object'
  clear_objects_service_name: '/clear_objects'
  # Direct path (bypasses object_info_server):
  detect_objects_action_name: '/detect_objects'
  estimate_pose_action_name: '/estimate_pose_foundation_pose'

  # Timeouts (seconds).
  action_timeout_sec: 45.0
  service_timeout_sec: 10.0
  action_retry_count: 2
  estimate_pose_retry_count: 0
  retry_backoff_sec: 0.5
  nms_iou_threshold: 0.5
  # Single-shot bbox-selection memory for multi-object scans:
  # a new candidate is skipped if it is too close to a recently succeeded bbox.
  enable_bbox_memory: true
  bbox_memory_center_distance_px: 100.0
  bbox_memory_ttl_sec: 15.0
  max_detection_rounds_per_scan: 8

  # Outputs.
  output_frame_id: 'base_link'
  output_pose_array_topic: '/isaac_manipulator_pose_server/object_poses'
  output_summary_topic: '/isaac_manipulator_pose_server/object_pose_summary'
